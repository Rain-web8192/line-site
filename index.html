<!DOCTYPE html>  
<html lang="ja">  
<head>  
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" /> 
  <link rel="stylesheet" href="style.css" />
  
  <!-- サイト基本情報 -->
  <title>Rain-Web</title> 
  <meta name="description" content="rain-webは、LINEをWeb上で利用できるようにしたサービスです。" />
  <meta name="author" content="ASST-OP" />
  <meta name="keywords" content="LINE, Web, rain-web, グループ, オープンチャット, チャット, ブラウザLINE" />

  <!-- ファビコン（ブラウザのタブ用） -->
  <link rel="icon" href="/icon.png" type="image/PNG" />
  <link rel="apple-touch-icon" href="/icon.PNG" />

  <!-- Open Graph (SNSでの表示) -->
  <meta property="og:title" content="rain-web｜LINEをWebで使えるサービス" />
  <meta property="og:description" content="rain-webは、LINEをブラウザで使いたい人、学校のパソコンでLINEをしたい人向けのサイトです。" />
  <meta property="og:image" content="https://rain-web.deno.dev/icon.PNG" />
  <meta property="og:url" content="https://rain-web.deno.dev/" />
  <meta property="og:type" content="website" />

  <!-- Twitterカード用（任意） -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="rain-web｜LINEをWebで使えるサービス" />
  <meta name="twitter:description" content="rain-webは、LINEをブラウザで使いたい人、学校のパソコンでLINEをしたい人向けのサイトです。" />
  <meta name="twitter:image" content="https://rain-web.deno.dev/icon.PNG" /> 
</head>  
<body>  
  
  <!-- ログインモード -->  
  <div id="loginModal" class="login-mode">  
    <div class="login-container">  
      <div class="login-header">  
        <h1>Rain-Web</h1>  
      </div>  
        
      <div class="login-form">  
        <div class="input-group">  
          <label for="modalToken">AuthToken</label>  
          <input type="text" id="modalToken" placeholder="AuthTokenを入力してください" />  
        </div>  
          
        <div class="input-group">  
          <label for="modalRefreshToken">RefreshToken (オプション)</label>  
          <input type="text" id="modalRefreshToken" placeholder="RefreshTokenを入力してください" />  
        </div>  
          
        <button id="modalLogin" class="login-button">トークンでログイン</button>  
          
        <div class="login-divider">  
          <span>または</span>  
        </div>  
          
        <div class="input-group">  
          <label for="modalEmail">メールアドレス</label>  
          <input type="email" id="modalEmail" placeholder="メールアドレスを入力してください" />  
        </div>  
          
        <div class="input-group">  
          <label for="modalPassword">パスワード</label>  
          <input type="password" id="modalPassword" placeholder="パスワードを入力してください" />  
        </div>  
          
        <div class="pincode-display" id="modalPincodeDisplay" style="display: none;">  
          生成されたPINコード: <span id="modalGeneratedPincode"></span>  
        </div>  
          
        <button id="modalPasswordLogin" class="login-button">メールアドレスでログイン</button>  
          
        <div id="modalResult" style="margin-top: 15px; text-align: center;"></div>  
      </div>  
    </div>  
  </div> 
  <!-- <h1>LINE OpenChat 操作ページ ver0.89</h1>  -->
  <div id="container">  
    <div id="leftPane">  
      <div id="loginArea" style="display: none; visibility: hidden; position: absolute; left: -9999px;">    
      <input type="text" id="token" />    
      <input type="text" id="refreshtoken" />    
      <button id="login">tokenでログイン</button>    
      <input type="email" id="email" />    
      <input type="password" id="password" />    
      <div class="pincode-display" id="passwordPincodeDisplay" style="display: none;">    
        生成されたPINコード: <span id="generatedPincode"></span>    
    </div>    
      <button id="passwordLogin">メールアドレスでログイン</button>    
      <div id="passwordResult"></div>    
    </div>
      <div id="chatButtons" tabindex="0">    
      </div>  
      <button id="loadMessages" disabled>過去メッセージ取得</button>  
      <span id="messageCount" style="margin-left: 8px;">0件</span>  
    </div>  
  
<div id="rightPaneWrapper">
  <div id="chatHeader" style="display:flex; justify-content:space-between; align-items:center;">
    <span id="chatTitle">選択中のOpenChatは未選択です</span>
    <button id="settingsButton" style="background:none; border:none; cursor:pointer; font-size:1.2em;"title="設定">⚙</button>
  </div>
  <div id="rightPane" tabindex="0"></div>
  <div id="replyBox" style="display:none; background:#f1f1f1; padding:6px 10px; border-left:3px solid #888;">
  <div style="display:flex; justify-content:space-between; align-items:center;">
    <span id="replyPreviewText" style="font-size:0.85em; color:#333;"></span>
    <button id="cancelReply" style="background:none; border:none; font-size:1em; color:#888; cursor:pointer;">✕</button>
  </div>
</div>
  <div id="sendArea">
    <label>メッセージ内容:
      <textarea id="message" placeholder="送信したい内容を入力"></textarea>
    </label>
    <button id="send" disabled>メッセージ送信</button>
  </div>
</div> 
  </div>  
  <div id="imageModal" style="display: none;">  
  <div class="modal-backdrop" onclick="closeImageModal()"></div>  
  <div class="modal-content">  
    <button class="modal-close" onclick="closeImageModal()">×</button>  
    <img id="modalImage" src="" alt="拡大画像">  
  </div>  
</div>
<!-- 利用規約モーダル -->  
<div id="termsModal" class="modal" style="display: none;">  
  <div class="modal-content">  
    <h2>利用規約</h2>  
    <div id="termsContent" class="terms-content"></div>  
      
    <div class="checkbox-container">  
      <label>  
        <input type="checkbox" id="ageCheck">  
        私は18歳以上です  
      </label>  
    </div>  
      
    <div class="checkbox-container">  
      <label>  
        <input type="checkbox" id="termsCheck">  
        上記の利用規約に同意します  
      </label>  
    </div>  
      
    <button id="agreeButton" disabled>同意する</button>  
  </div>  
</div>
<!-- 設定モーダル -->
<div id="settingsModal" style="display:none;">
  <div id="settingsBackdrop" style="position:fixed; top:0; left:0; width:100%; height:100%;
       background:rgba(0,0,0,0.5); z-index:9998;"></div>
  <div id="settingsContent" style="position:fixed; top:50%; left:50%; transform:translate(-50%, -50%);
       background:white; padding:20px; border-radius:8px; width:300px; z-index:9999; box-shadow:0 4px 10px rgba(0,0,0,0.3);">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
      <h2 style="margin:0; font-size:1.2em;">設定</h2>
      <button id="closeSettings" style="background:none; border:none; font-size:1.2em; cursor:pointer;">✕</button>
    </div>

    <!-- 既読 ON/OFF -->
    <div style="margin-bottom:15px;">
      <label>
        <input type="checkbox" id="readToggle" />
        既読を付ける
      </label>
    </div>

    <!-- 連投設定 -->
    <div style="margin-bottom:10px;">
      <label>回数: <input type="number" id="repeatCount" min="1" value="1" style="width:60px;" /></label>
    </div>
    <div style="margin-bottom:15px;">
      <label>文字列: <input type="text" id="repeatText" style="width:100%;" /></label>
    </div>
    <button id="startRepeat" style="width:100%; padding:6px 0; background:#4CAF50; color:white; border:none; border-radius:4px; cursor:pointer;">
      連投開始
    </button>
  </div>
</div>

    <script src="web.js"></script>
</body>  
</html>
